require(["connector","http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js","/js/underscore-min.js"],function(e){var t=require(["/js/bootstrap.js"],function(){});$(function(){function n(t){var n={bpm:Number(t)};r&&(n.start=r),e.socket.emit("setLoopStats",n)}$("a.async").click(function(e){var t=$(this);return e.preventDefault&&e.preventDefault(),$.get(t.attr("href")),!1});var t=0;$("#bpm-input").change(function(){var e=$(this),r=e.val();t&&clearTimeout(t),t=setTimeout(function(){n(r)},1e3)});var r,i,s=[],o=0;$("#bpm-tap").click(function(t){t.preventDefault&&t.preventDefault();var u=$(this),a=(new Date).getTime();if(!r)u.removeClass("btn-success"),u.addClass("btn-danger"),r=e.currentTime(),i=r;else{s.push(a-i);if(s.length>=4){var f=_.reduce(s,function(e,t){return e+t},0)/s.length,l=$("#bpm-input").val(),c=Math.floor(6e4/f);if(c+""==l)return!1;$("#bpm-input").val(c),n(c)}i=a}return o&&clearTimeout(o),o=setTimeout(function(){u.addClass("btn-success"),u.removeClass("btn-danger"),r=undefined,i=undefined,s=[]},4e3),!1})})})